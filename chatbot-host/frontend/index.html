<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Otter - Enterprise HR/IT Assistant</title>
    <link rel="stylesheet" href="./css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <!-- Header with phase selector -->
    <header class="main-header">
        <div class="container">
            <div class="header-brand">
                <i class="fas fa-otter"></i>
                <span id="brand-text">The Otter</span>
            </div>

            <div class="phase-selector">
                <button class="phase-btn active phase1-active" data-phase="phase1">
                    <span class="phase-number">1</span>
                    <span class="phase-label" data-i18n="phases.phase1.label">Normal Usage</span>
                    <span class="phase-status status-safe" data-i18n="phases.phase1.status">NORMAL</span>
                </button>
                <button class="phase-btn phase2-active" data-phase="phase2">
                    <span class="phase-number">2</span>
                    <span class="phase-label" data-i18n="phases.phase2.label">Risky Usage</span>
                    <span class="phase-status status-danger" data-i18n="phases.phase2.status">RISK</span>
                </button>
                <button class="phase-btn phase3-active" data-phase="phase3">
                    <span class="phase-number">3</span>
                    <span class="phase-label" data-i18n="phases.phase3.label">Protected Mode</span>
                    <span class="phase-status status-protected" data-i18n="phases.phase3.status">PROTECTED</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Connection Status -->
            <div id="connection-status" class="connection-status hidden">
                <i class="fas fa-wifi"></i>
                <span id="connection-text" data-i18n="chat.connected">Connected</span>
            </div>

            <div class="demo-layout">
                <div class="info-panel">
                    <!-- User Profile -->
                    <section class="user-profile-section">
                        <div class="card">
                            <div class="card__header">
                                <h2><i class="fas fa-user"></i> <span data-i18n="userProfile.title">Connected
                                        User</span></h2>
                            </div>
                            <div class="card__body">
                                <div class="user-info">
                                    <div class="user-avatar">
                                        <i class="fas fa-user-circle"></i>
                                    </div>
                                    <div class="user-details">
                                        <h3 id="userName" data-i18n="userProfile.name">Aur√©lien Delamarre</h3>
                                        <p id="userRole" data-i18n="userProfile.role">Pre-Sales Engineer</p>
                                        <p id="userDepartment" data-i18n="userProfile.department">Sales Department</p>
                                        <p id="userEmail" data-i18n="userProfile.email">
                                            aurelien.delamarre@enterprise.com</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Quick Questions Section -->
                    <section class="quick-questions">
                        <div class="card">
                            <div class="card__header">
                                <h2><i class="fas fa-lightbulb"></i> <span data-i18n="questions.title">Example
                                        Questions</span></h2>
                            </div>
                            <div class="card__body">
                                <div id="questions-container" class="example-questions-grid">
                                    <!-- Questions will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </section>
                </div>

                <div class="chat-panel">
                    <!-- Chat Section -->
                    <section class="chat-section">
                        <div class="card chat-container">
                            <div class="card__header">
                                <h2><i class="fas fa-comments"></i> <span data-i18n="app.brand">The Otter</span>
                                    Assistant</h2>
                                <div class="chat-status">
                                    <span class="status status--success">
                                        <i class="fas fa-circle"></i>&nbsp;&nbsp;<span
                                            data-i18n="chat.online">Online</span>
                                    </span>
                                </div>
                            </div>

                            <div id="chat-container" class="chat-messages">
                                <div class="message bot-message">
                                    <div class="message-avatar">
                                        <i class="fas fa-otter"></i>
                                    </div>
                                    <div class="message-content">
                                        <div class="message-text" id="welcome-message">
                                            <!-- Welcome message will be populated by JavaScript -->
                                        </div>
                                        <div class="message-timestamp">Now</div>
                                    </div>
                                </div>
                            </div>

                            <div class="chat-input-container">
                                <div class="chat-input-wrapper">
                                    <input type="text" id="chatInput" class="chat-input"
                                        placeholder="Type your question here..." maxlength="500">
                                    <button id="sendMessage" class="send-button">
                                        <i class="fas fa-paper-plane"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4 data-i18n="footer.title">Bot Enterprise</h4>
                    <p data-i18n="footer.description">Intelligent HR/IT Assistant</p>
                    <p data-i18n="footer.version">Version 2.1 Enterprise</p>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer.support.title">Support</h4>
                    <p data-i18n="footer.support.itHelpdesk">IT Helpdesk: ext. 1234</p>
                    <p data-i18n="footer.support.hr">HR: ext. 5678</p>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer.security.title">Security</h4>
                    <p data-i18n="footer.security.gdpr">GDPR Compliance</p>
                    <p data-i18n="footer.security.audit">Automated Audit</p>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer.language.title">Language</h4>
                    <div class="language-switcher">
                        <select id="languageSelect" class="lang-select">
                            <option value="en">English</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Loading indicator -->
    <div id="loading-indicator" class="loading-indicator">
        <div class="spinner"></div>
        <span data-i18n="chat.thinking">Loading...</span>
    </div>

    <!-- Scripts -->
    <script type="module" src="./js/i18n.js"></script>
    <script type="module" src="./js/config.js"></script>
    <script type="module" src="./js/utils.js"></script>
    <script type="module" src="./js/api-service.js"></script>
    <script type="module" src="./js/ui-manager.js"></script>
    <script type="module" src="./js/questions-manager.js"></script>
    <script type="module" src="./js/connection-monitor.js"></script>
    <script type="module" src="./js/app.js"></script>

    <script type="module">
        // Initialize the app
        import { ChatBotApp } from './js/app.js';

        document.addEventListener('DOMContentLoaded', async () => {
            const app = new ChatBotApp();
            await app.init();
        });
    </script>
</body>

</html>